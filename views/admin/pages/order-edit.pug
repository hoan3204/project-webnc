extends ../layouts/default.pug

block main
  h1.box-title Đơn hàng: 

  .section-8
    form#order-edit-form
      .inner-group(style="display:none")
        label(class="inner-label" for="id") id
        input(type="text" id="id" name="id" value=orderDetail.id)
      .inner-group
        label(class="inner-label" for="fullName") Tên khách hàng
        input(type="text" id="fullName" name="fullName" value=orderDetail.fullName)
      .inner-group
        label(class="inner-label" for="phone") Số điện thoại
        input(type="text" id="phone" name="phone" value=value=orderDetail.phone)
      .inner-group.inner-two-col
        label(class="inner-label" for="note") Ghi chú
        textarea(id="note" name="note" value=orderDetail.note) 
      .inner-group
        label(class="inner-label" for="paymentMethod") Phương thức thanh toán
        select(id="paymentMethod" name="paymentMethod")
          option(value="") Ví Momo
          option(value="") VNPay
          option(value="") ZaloPay
      .inner-group
        label(class="inner-label" for="paymentStatus") Trạng thái thanh toán
        select(id="paymentStatus" name="paymentStatus")
          option(value="") Đã thanh toán
          option(value="") Chưa thanh toán
      .inner-group
        label(class="inner-label" for="createdAt") Ngày đặt
        input(type="datetime-local" id="createdAt" name="createdAt" value=orderDetail.createdFull readonly)
      .inner-group
        label(class="inner-label" for="status") Trạng thái
        select(id="status" name="status")
          option(value="") Khởi tạo
          option(value="") Hoàn thành
          option(value="") Hủy
      .inner-group
        label(class="inner-label") Danh sách tour
        .inner-order-list
          each cart in orderDetail.cart
            .inner-order-item
              .inner-order-image
                img(src=cart.avatar, alt=cart.name)
              .inner-order-content
                .inner-order-name #{cart.name}
                .inner-order-text Người lớn: #{cart.quantityAdult} x #{cart.priceNewAdult.toLocaleString()}đ
                .inner-order-text Trẻ em: #{cart.quantityChildren} x #{cart.priceNewChildren.toLocaleString()}đ
                .inner-order-text Em bé: #{cart.quantityBaby} x #{cart.priceNewBaby.toLocaleString()}đ
                .inner-order-text Ngày khởi hành: #{cart.departureDateFormat}
                .inner-order-text Khởi hành tại: #{cart.locationFromName}
      .inner-group
        label(class="inner-label") Thanh toán
        .inner-order-total
          div Tổng tiền: #{orderDetail.total ? orderDetail.total.toLocaleString() + 'đ' : '...'}
          div Giảm: #{orderDetail.discount ? orderDetail.discount.toLocaleString() + 'đ' : '0đ'}
          div Mã giảm: #{orderDetail.couponCode || 'Không có'}
          div Thanh toán: 
            span.inner-order-price #{orderDetail.finalAmount ? orderDetail.finalAmount.toLocaleString() + 'đ' : (orderDetail.total ? orderDetail.total.toLocaleString() + 'đ' : '...')}
      .inner-button.inner-two-col
        button Cập nhật
    .inner-back
      a(href=`/${pathadmin}/order/list`) Quay lại danh sách